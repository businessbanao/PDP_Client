<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button
        defaultHref="/notemgnt"
        (click)="closeModal()"
      ></ion-back-button>
    </ion-buttons>
    <ion-title *ngIf="!data" id="top">Add Note</ion-title>
    <ion-title *ngIf="data" id="top">Update Note</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="container">
    <ion-row
      style="width:100%"
      style="justify-content: flex-end;padding: 10px 0px;"
    >
      <ion-col>
        <img
          class="img-box"
          *ngIf="noteForm.get('images').value"
          [src]="noteForm.get('images').value"
        />
      </ion-col>
      <ion-col>
        <ion-button class="upload-img" (click)="selectImagefromMobille()">
          Upload Image &nbsp;&nbsp;<ion-icon
            name="cloud-upload-sharp"
          ></ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>

    <div class="row">
      <div class="form-bg">
        <form [formGroup]="noteForm" (ngSubmit)="createNote(noteForm)">
          <ion-item>
            <ion-label>Title : </ion-label>
            <ion-input
              type="text"
              placeholder="Title"
              formControlName="title"
            ></ion-input>
          </ion-item>

          <ion-item>
            <ion-label>Date : </ion-label>
            <ion-input type="date" formControlName="date"></ion-input>
          </ion-item>

          <ion-item>
            <ion-label>Folder : </ion-label>
            <ion-select placeholder="Folder" formControlName="folder_id">
              <section *ngFor="let folder of folderList">
                <ion-select-option value="{{ folder._id }}"
                  >{{ folder.name }}</ion-select-option
                >
              </section>
            </ion-select>
          </ion-item>
          <br />
          <ion-item>
            <textarea
              placeholder="Content"
              formControlName="content"
              rows="4"
              cols="50"
            ></textarea>
          </ion-item>
          <br />
          <ion-button *ngIf="!data" color="primary" type="submit" value="Save"
            >Save</ion-button
          >
          <ion-button
            *ngIf="data"
            color="primary"
            type="button"
            value="Update"
            (click)="updateNote(noteForm)"
            >Update</ion-button
          >
        </form>
      </div>
    </div>
  </div>
</ion-content>
